<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、canvas简介 | youlem</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/notes/assets/style.3c4f5b32.css" as="style">
    <script type="module" src="/notes/assets/app.c6f1cce4.js"></script>
    <link rel="preload" href="/notes/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/notes/assets/chunks/framework.d766459c.js">
  <link rel="modulepreload" href="/notes/assets/chunks/theme.4024ae9b.js">
  <link rel="modulepreload" href="/notes/assets/base_canvas.md.731e270d.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6f54a536><!--[--><!--]--><!--[--><span tabindex="-1" data-v-4dcdc217></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4dcdc217> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6f54a536 data-v-ff869957><div class="VPNavBar has-sidebar" data-v-ff869957 data-v-20387567><div class="container" data-v-20387567><div class="title" data-v-20387567><div class="VPNavBarTitle has-sidebar" data-v-20387567 data-v-25cf2144><a class="title" href="/notes/" data-v-25cf2144><!--[--><!--]--><!--[--><img class="VPImage logo" src="/notes/vite.svg" alt data-v-9eedfc5e><!--]--><!--[-->youlem<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-20387567><div class="curtain" data-v-20387567></div><div class="content-body" data-v-20387567><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-20387567><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-20387567 data-v-c72c741c><span id="main-nav-aria-label" class="visually-hidden" data-v-c72c741c>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/notes/guide.html" tabindex="0" data-v-c72c741c data-v-c10e1434 data-v-f5bf05d6><!--[-->Guide<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-c72c741c data-v-ce878910><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ce878910><span class="text" data-v-ce878910><!----> 下拉选择框 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-ce878910><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-ce878910><div class="VPMenu" data-v-ce878910 data-v-3ae0c94f><div class="items" data-v-3ae0c94f><!--[--><!--[--><div class="VPMenuLink" data-v-3ae0c94f data-v-592ad1ee><a class="VPLink link" href="/notes/" data-v-592ad1ee data-v-f5bf05d6><!--[-->options-1<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-3ae0c94f data-v-592ad1ee><a class="VPLink link" href="http://www.baidu.com" target="_blank" rel="noreferrer" data-v-592ad1ee data-v-f5bf05d6><!--[-->options-2<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-f5bf05d6><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-20387567 data-v-5a846349><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-5a846349 data-v-c36e3d26 data-v-e7e7f50f><span class="check" data-v-e7e7f50f><span class="icon" data-v-e7e7f50f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-c36e3d26><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-c36e3d26><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-20387567 data-v-877c29d2 data-v-4bbf1f15><!--[--><a class="VPSocialLink" href="https://github.com" aria-label="github" target="_blank" rel="noopener" data-v-4bbf1f15 data-v-aaa44a5b><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-20387567 data-v-dbc8bf51 data-v-ce878910><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ce878910><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-ce878910><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-ce878910><div class="VPMenu" data-v-ce878910 data-v-3ae0c94f><!----><!--[--><!--[--><!----><div class="group" data-v-dbc8bf51><div class="item appearance" data-v-dbc8bf51><p class="label" data-v-dbc8bf51>Appearance</p><div class="appearance-action" data-v-dbc8bf51><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-dbc8bf51 data-v-c36e3d26 data-v-e7e7f50f><span class="check" data-v-e7e7f50f><span class="icon" data-v-e7e7f50f><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-c36e3d26><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-c36e3d26><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-dbc8bf51><div class="item social-links" data-v-dbc8bf51><div class="VPSocialLinks social-links-list" data-v-dbc8bf51 data-v-4bbf1f15><!--[--><a class="VPSocialLink" href="https://github.com" aria-label="github" target="_blank" rel="noopener" data-v-4bbf1f15 data-v-aaa44a5b><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-20387567 data-v-8ad3e251><span class="container" data-v-8ad3e251><span class="top" data-v-8ad3e251></span><span class="middle" data-v-8ad3e251></span><span class="bottom" data-v-8ad3e251></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-6f54a536 data-v-4e3208e8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-4e3208e8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-4e3208e8><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-4e3208e8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-4e3208e8 data-v-10862052><button data-v-10862052>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-6f54a536 data-v-dd77b70f><div class="curtain" data-v-dd77b70f></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-dd77b70f><span class="visually-hidden" id="sidebar-aria-label" data-v-dd77b70f> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-dd77b70f><section class="VPSidebarItem level-0 collapsible collapsed" data-v-dd77b70f data-v-71333b4a><div class="item" role="button" tabindex="0" data-v-71333b4a><div class="indicator" data-v-71333b4a></div><h2 class="text" data-v-71333b4a>Guide</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-71333b4a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-71333b4a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-71333b4a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-71333b4a data-v-71333b4a><div class="item" data-v-71333b4a><div class="indicator" data-v-71333b4a></div><a class="VPLink link link" href="/notes/guide/what-is-vitepress.html" data-v-71333b4a data-v-f5bf05d6><!--[--><p class="text" data-v-71333b4a>Introduction</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-71333b4a data-v-71333b4a><div class="item" data-v-71333b4a><div class="indicator" data-v-71333b4a></div><a class="VPLink link link" href="/notes/getting-started.html" data-v-71333b4a data-v-f5bf05d6><!--[--><p class="text" data-v-71333b4a>Getting Started</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6f54a536 data-v-ef8a7c19><div class="VPDoc has-sidebar has-aside" data-v-ef8a7c19 data-v-d2e161c6><!--[--><!--]--><div class="container" data-v-d2e161c6><div class="aside" data-v-d2e161c6><div class="aside-curtain" data-v-d2e161c6></div><div class="aside-container" data-v-d2e161c6><div class="aside-content" data-v-d2e161c6><div class="VPDocAside" data-v-d2e161c6 data-v-98ca5e17><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-98ca5e17 data-v-acce7b56><div class="content" data-v-acce7b56><div class="outline-marker" data-v-acce7b56></div><div class="outline-title" data-v-acce7b56>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-acce7b56><span class="visually-hidden" id="doc-outline-aria-label" data-v-acce7b56> Table of Contents for current page </span><ul class="root" data-v-acce7b56 data-v-086d3cde><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-98ca5e17></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d2e161c6><div class="content-container" data-v-d2e161c6><!--[--><!--]--><!----><main class="main" data-v-d2e161c6><div style="position:relative;" class="vp-doc _notes_base_canvas" data-v-d2e161c6><div><h1 id="一、canvas简介" tabindex="-1">一、canvas简介 <a class="header-anchor" href="#一、canvas简介" aria-label="Permalink to &quot;一、canvas简介&quot;">​</a></h1><h2 id="_1-1什么是canvas" tabindex="-1">1.1什么是canvas <a class="header-anchor" href="#_1-1什么是canvas" aria-label="Permalink to &quot;1.1什么是canvas&quot;">​</a></h2><ul><li>html5提供的一种新标签</li><li>Canvas是一个矩形区域的画布，使用JavaScript在上面绘制，控制每一个像素</li><li>Canvas拥有多种绘制路径，矩形，圆形，字符以及添加图像等方法</li></ul><h2 id="_1-2应用领域" tabindex="-1">1.2应用领域 <a class="header-anchor" href="#_1-2应用领域" aria-label="Permalink to &quot;1.2应用领域&quot;">​</a></h2><ul><li>html5游戏</li><li>可视化数据：echart</li><li>banner动态广告</li><li>移动端应用</li></ul><h1 id="二、canvas基础-图形" tabindex="-1">二、canvas基础-图形 <a class="header-anchor" href="#二、canvas基础-图形" aria-label="Permalink to &quot;二、canvas基础-图形&quot;">​</a></h1><h2 id="_2-1canvas标签语法" tabindex="-1">2.1canvas标签语法 <a class="header-anchor" href="#_2-1canvas标签语法" aria-label="Permalink to &quot;2.1canvas标签语法&quot;">​</a></h2><ul><li>canvas可以设置width和height属性，<strong>单位必须是px，可以省略</strong></li><li>==width和height：默认是300x150像素==</li><li>注意： <ul><li>==不要用CSS控制canvas画布的宽高，会让图片拉伸==</li><li>重新设置canvas标签的宽高属性会让画布擦除所有内容</li><li>可以给canvas画布设置背景色</li></ul></li><li>==<strong>cavas代码提示： 在script标签中添加 /</strong> @type {HTMLCanvasElement} */==</li></ul><h2 id="_2-2浏览器兼容" tabindex="-1">2.2浏览器兼容 <a class="header-anchor" href="#_2-2浏览器兼容" aria-label="Permalink to &quot;2.2浏览器兼容&quot;">​</a></h2><ul><li>如果浏览器不兼容进行友好提示</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;canvas id=&quot;cavsElem&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  你的浏览器不支持canvas，请升级浏览器</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/canvas&gt;</span></span></code></pre></div><h2 id="_2-3canvas上下文context" tabindex="-1">2.3canvas上下文context <a class="header-anchor" href="#_2-3canvas上下文context" aria-label="Permalink to &quot;2.3canvas上下文context&quot;">​</a></h2><ul><li>上下文：是所有的绘制操作 api 的入口或者集合。</li><li>Canvas 自身无法绘制任何内容。Canvas 的绘图是使用 JavaScript 操作的。</li><li>Context 对象就是 JavaScript 操作 Canvas 的接口。 使用==<strong>[CanvasElement].getContext(‘2d’)</strong>==来获取 2D 绘图上下文。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">var canvas = document.getElementById(&#39;cavsElem&#39;); //获得画布</span></span>
<span class="line"><span style="color:#A6ACCD;">var ctx = canvas.getContext(&#39;2d&#39;); //注意：2d小写， 3d：webgl</span></span></code></pre></div><h2 id="_2-4基本图形绘制" tabindex="-1">2.4基本图形绘制 <a class="header-anchor" href="#_2-4基本图形绘制" aria-label="Permalink to &quot;2.4基本图形绘制&quot;">​</a></h2><ul><li>canvas坐标系：<strong>最左上角为坐标原点（0，0），x向右增大，y向下增大</strong></li><li>canvas三要素</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;!-- </span></span>
<span class="line"><span style="color:#A6ACCD;">canvas三要素</span></span>
<span class="line"><span style="color:#A6ACCD;">  id：标识元素唯一性</span></span>
<span class="line"><span style="color:#A6ACCD;">  width：画布宽度</span></span>
<span class="line"><span style="color:#A6ACCD;">  height：画布高度</span></span>
<span class="line"><span style="color:#A6ACCD;">--&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;canvas id=&quot;c1&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span></span></code></pre></div><h3 id="_2-4-1-矩形绘制填充模式" tabindex="-1">2.4.1-矩形绘制填充模式 <a class="header-anchor" href="#_2-4-1-矩形绘制填充模式" aria-label="Permalink to &quot;2.4.1-矩形绘制填充模式&quot;">​</a></h3><p><strong>填充</strong>： ==<strong>ctx.fill();</strong>== <strong>矩形：==ctx.rect();==</strong><strong>绘制矩形fillrect（位置x，位置y，宽度，高度）</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;canvas id=&quot;c1&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制矩形fillrect（位置x，位置y，宽度，高度）</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(100,200,300,300); </span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-2-矩形绘制路径模式" tabindex="-1">2.4.2-矩形绘制路径模式 <a class="header-anchor" href="#_2-4-2-矩形绘制路径模式" aria-label="Permalink to &quot;2.4.2-矩形绘制路径模式&quot;">​</a></h3><p>==<strong>填充：ctx.stroke();</strong>==</p><p><strong>矩形：==ctx.rect();==</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 绘制矩形fillrect（位置x，位置y，宽度，高度）填充模式</span></span>
<span class="line"><span style="color:#A6ACCD;">        // strokeRect(路径模式)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.strokeRect(100,100,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-3-矩形绘制清除模式" tabindex="-1">2.4.3-矩形绘制清除模式 <a class="header-anchor" href="#_2-4-3-矩形绘制清除模式" aria-label="Permalink to &quot;2.4.3-矩形绘制清除模式&quot;">​</a></h3><p>==<strong>清除所有：ctx.clearRect(0, 0, c1.clientWidth, c1.clientHeight);</strong>==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制矩形fillrect（位置x，位置y，宽度，高度）填充模式</span></span>
<span class="line"><span style="color:#A6ACCD;">    // strokeRect(路径模式)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeRect(100,100,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(200,150,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // clearRect（清除画布内所有图形）</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.clearRect(0, 0, c1.clientWidth, c1.clientHeight);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    let height=0</span></span>
<span class="line"><span style="color:#A6ACCD;">    let t1 = setInterval(()=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        height++;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.clearRect(0, 0, c1.clientWidth, height);</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(height&gt;c1.clientHeight){</span></span>
<span class="line"><span style="color:#A6ACCD;">            clearInterval(t1);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    },10);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="/notes/assets/1.d65dbbab.gif" alt=""></p><h3 id="_2-4-4-分开写法" tabindex="-1">2.4.4-分开写法 <a class="header-anchor" href="#_2-4-4-分开写法" aria-label="Permalink to &quot;2.4.4-分开写法&quot;">​</a></h3><p><strong>beginPath</strong>：开始路径 <strong>closePath</strong>：结束路径</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 拆开写法</span></span>
<span class="line"><span style="color:#A6ACCD;">    // beginPath和closePath可以完成路径的分段</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 开始画笔</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 落笔位置</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.rect(100,100,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 路径模式</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 结束画笔</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.rect(200,150,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 填充模式</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-5-圆弧绘制" tabindex="-1">2.4.5-圆弧绘制 <a class="header-anchor" href="#_2-4-5-圆弧绘制" aria-label="Permalink to &quot;2.4.5-圆弧绘制&quot;">​</a></h3><p><strong>ctx.arc();</strong></p><p>==arc(圆心x,圆心y,半径,开始的角度,结束的角度,顺逆时针(默认顺时针false,逆时针为true))==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制圆弧</span></span>
<span class="line"><span style="color:#A6ACCD;">    // arc(圆心x,圆心y,半径,开始的角度,结束的角度,顺逆时针(默认顺时针false,逆时针为true))</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(300, 300, 50, 0, Math.PI /2,true);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-6-moveto移动点绘制笑脸" tabindex="-1">2.4.6-moveTo移动点绘制笑脸 <a class="header-anchor" href="#_2-4-6-moveto移动点绘制笑脸" aria-label="Permalink to &quot;2.4.6-moveTo移动点绘制笑脸&quot;">​</a></h3><p><strong>ctx.moveTo();</strong></p><p><strong>moveTo移动画笔的位置</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制圆弧</span></span>
<span class="line"><span style="color:#A6ACCD;">    // arc(圆心x,圆心y,半径,开始的角度,结束的角度,顺逆时针(默认顺时针false,逆时针为true))</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.arc(300, 300, 50, 0, Math.PI /2,true);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制一张脸</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(75, 75, 50, 0, Math.PI *2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 把画笔起始点移到(110,75) 110=75(当前圆心)+35(下笔位移半径)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(110, 75);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制嘴巴</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(75, 75, 35, 0, Math.PI);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(65, 65);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制左眼</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(60, 65, 5, 0, Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(95, 65)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制右眼</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(90, 65, 5, 0, Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="/notes/assets/3.37d12ab3.jpg" alt=""></p><h3 id="_2-4-7-绘制线段lineto" tabindex="-1">2.4.7-绘制线段lineTo <a class="header-anchor" href="#_2-4-7-绘制线段lineto" aria-label="Permalink to &quot;2.4.7-绘制线段lineTo&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.lineTo(350, 250);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.lineTo(400,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.lineTo(300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-8-arcto绘制圆弧" tabindex="-1">2.4.8-arcTo绘制圆弧 <a class="header-anchor" href="#_2-4-8-arcto绘制圆弧" aria-label="Permalink to &quot;2.4.8-arcTo绘制圆弧&quot;">​</a></h3><ul><li>==在画布上创建介于当前起点和两个点形成的夹角的切线之间的弧==</li><li>语法： <code>context.arcTo(x1,y1,x2,y2,r);</code> //类比：css3 中的圆角。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定第二个第三个点  原理(两条线相切的圆弧)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // arcTo(x1,y1,x2,y2,半径)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arcTo(300, 250, 250, 250, 25);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-9-贝塞尔二次曲线" tabindex="-1">2.4.9-贝塞尔二次曲线 <a class="header-anchor" href="#_2-4-9-贝塞尔二次曲线" aria-label="Permalink to &quot;2.4.9-贝塞尔二次曲线&quot;">​</a></h3><p><strong>quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(200,300)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(150, 300, 150, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(150, 100, 300, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(450, 100, 450, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(450, 300, 250, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(250, 350, 150, 350);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(200, 350, 200, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="/notes/assets/4.e8a84ca5.jpg" alt=""></p><h3 id="_2-4-10-贝塞尔三次曲线" tabindex="-1">2.4.10-贝塞尔三次曲线 <a class="header-anchor" href="#_2-4-10-贝塞尔三次曲线" aria-label="Permalink to &quot;2.4.10-贝塞尔三次曲线&quot;">​</a></h3><p><strong>bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.bezierCurveTo(350, 150, 400, 200, 300, 280);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.bezierCurveTo(200, 200, 250, 150, 300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAACeCAYAAAA1zDbjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAvFSURBVHhe7d15bE1bGwbwj4ZrCjEUoTETgoqYK2qOWWKIKCIlSP1hjCjSqlIiSMxiLEEkbUTMSvjDPMUQRM2zmMdEqIr33md/S3LdtjqdYb9rP7+kibV6ztl7va9H65w9/E+ISB0Gl0ghBpdIIQaXSCEGl0ghBpdIIQaXSCEGl0ghBpdIIQaXSCEGl0ghBpdIIQaXSCEGl0ghBpdIIQaXSCEGl0ghBpdIIQaXSCEGl0ghBpdIIQaXSCEGl0ghBpdIIQaXSCEG919+/Pghly5dktTUVFm+fLnMnTtX4uLiJCEhQRYtWiSbNm2StLQ0uXv3rnkGoRaoCWqDGqFWqBlqhxqilqgpaku+4/ng3r59WxYsWCAdO3aUkJAQCQ8Pl0GDBsmECRMkPj5e5s2bJ3PmzJFp06ZJdHS0dOvWTWrXri2lS5eWDh06yPTp0+XAgQOSkZFhXtFeWCPWijVj7agBaoGaoDaoEWqFmqF2qCFqiZqitqgxao2aU+F4NrhHjx6V/v37S2hoqPMXDD81vn79ar6bu0+fPsmxY8ecnyydO3eW4sWLy8CBA2Xbtm1WhRhrwZqwNqwRa8WasXbUIK9QW9QYtUbNUXv0gArGc8F9+vSpREVFSYMGDWT9+vVmtvA+fPggW7ZskX79+kmZMmUkJiZGzp07Z76rD/Yda8BasCasDWv0FdQePUAv0BPKH08Fd9euXVKxYkWZPXu2mfGPZ8+eyfz586VOnTrSvXt3Z7taYF+xz9h3rAFr8Sf0Aj3RVCM38Exw16xZI5UrV5bDhw+bmcDYvn27tG3b1vlKSUkxs+6Dffu1n9jnQEJP0Bv0iPLGE8HFO541a9aUa9eumZnAw0+Udu3aSWRkpBw6dMjMBh/2BfuEfQvmTz30Bj1Cryh31gf3xIkT8tdff8nFixfNTHDhjZ6GDRvKkCFDJD093cwGHraNfcC+YJ/cAD1Cr9Az+jPrg9usWTPZunWrGbkHPhbBRyT46CTQsE1sG/vgNugVekZ/ZnVwExMTZfjw4WbkPvfv35fBgwdLmzZt5NSpU2bWf7ANbAvbxLbdCj1D7yhn1gb37du3UqJECblz546Zca/k5GQpW7asX3/64rWxDWzL7dAz9A49pOxZG1z8RR03bpwZud+jR4+kb9++0rt3b3n8+LGZLTy8Fl4Tr41taIHeBeO/EVpYG9z69evLhQsXzEiPpKQk56ORPXv2mJmC27t3r/NaeE1t0Dv0kLJnZXDxfznNb3Ds379fqlSpIgsXLjQz+Yfn4jXwWlqhh4H4v79GVgYXB7rHxsaakU4PHz50DuQfO3asmck7PAfPxWtohh6il5SVlcHt2bOn82uiDUaOHCk9evSQd+/emZmc4TF4LJ5jA/QQvaSsrAxutWrVrDpwfdasWc6vjbdu3TIzWeF7eAweawv0EL2krKwL7ufPn6VUqVJmZI9ly5ZJWFhYtmccYQ7fw2Nsg16ip/Q764KLzwDr1q1rRnbBqXX4LBbnwv6CP2MO37MReqnhs/hAsy64ON61RYsWZmSfnTt3SrFixeTgwYPOF/6MOVuhl245ztxNrAsuPj6IiIgwIzvt27dPihQp4nzhzzZDL/mRUFbWBff06dPOOaVegOs/2Q69RE/pd9YF9/Llyzy7xCLo5ZUrV8yIfrEuuA8ePJAaNWqYEWmHXqKn9DvrgvvlyxfnaoRkB/QSPaXfWRdcwDG6L1++NCPSCj1ELykrK4Pbvn17OXnypBmRVugheklZWRncMWPGyNq1a82ItEIP0UvKysrgrlixwrmYN+mGHqKXlJWVwT1z5ow0b97cjEgr9BC9pKysDC7g4HRf3jKDAgu9s/FkEV+xNrh9+vSx+hhe26F36CFlz9rg4hQ3vrGhF3pn42mKvmJtcHEP1qpVq5oRaYPe8T66ObM2uIAD1I8cOWJGpAV65pUTRQrK6uAuXryYvy4rhJ6hd5Qzq4P75MkTKV26tGRmZpoZcjv0Cj1D7yhnVgcXBgwYIBs3bjQjcjv0Cj2jP7M+uLt37+bxroqgV+gZ/Zn1wYVGjRrxnqsKoEfoFeXOE8FdunSpREVFmRG5FXqEXlHuPBHcr1+/SoUKFeTmzZtmhtwGvUGP0CvKnSeCCwkJCapuu+k16A16RHnjmeDivjr4mOHu3btmhtwCPUFv8nJ/JPo/zwQX4uPj+VPXhdAT9IbyzlPB/fjxo5QvX16uXbtmZijY0Av0BL2hvPNUcAE3fB46dKgZUbChF4W5gbdXeS64gBtJHT161IwoWNADW2/Q5m+eDO7mzZudO7ZTcKEH6AXlnyeDC127dpV169aZEQUaao8eUMF4Nri4A1xoaKh8+vTJzFCgoOaoPe/CV3CeDS5MnjxZxo8fb0YUKKg5ak8F5+ng4p40tWrVkrS0NDND/oZao+a8H1DheDq4kJKSIk2aNDEj8jfUGjWnwvF8cCE6OlqmTZtmRuQvqDFqTYXH4P4Dx8iGhYXJoUOHzAz5GmqLGvN4ZN9gcA1cgLt+/fo8rcwPUFPUlheo9x0G918mTpwoo0aNMiPyFdQUtSXfYXD/o2XLlrJhwwYzosJCLVFT8i0G9z/Onz8vISEhcvXqVTNDBYUaopaoKfkWg5uN1atXS+vWrc2ICgo1RC3J9xjcHOBq+jzpvuBQO95Fwn8Y3Bz8/PlT2rRpIytXrjQzlFeoGWqHGpJ/MLh/cP36dSlTpgzP3c0H1Ao1Q+3IfxjcXKSmpkr16tXl6dOnZoZyghqhVqgZ+ReDmwfz58+XTp06mRHlpHPnzk6tyP8Y3DwaPXq080XZY30Ci8HNhy5dukhiYqIZ0S+oCWrDN6MCh8HNh+fPn0u9evUkOTnZzBBqgZqgNhQ4DG4+4SigUqVK8eT7f6AGJUuW5JFRQcDgFgDu31quXDlPHxaJtaMGvJdtcDC4BYSrFOJUNS/+iog1Y+28SmbwMLiFkJSUJO3atZOMjAwzYz+sFWvG2il4GNxCmjJlivTt29eM7Ie1Ys0UXAyuD+A6SiNGjDAjew0fPpzXjHIJBtdHBg4cKDExMWZkH6wNayR3YHB9qEePHjJ16lQzsgfWhLWRezC4PoSLfEdGRsqsWbPMjH4zZ86Ujh078gLmLsPg+tj79++lbdu2Mnv2bDOjF9aAd5CxJnIXBtcPXr16Ja1atZI5c+aYGX2w77j0zOvXr80MuQmD6ycvXrxwrm6oMbwJCQnOPzwvX740M+Q2DK4f4S8+fmrFx8ebGfeLi4tzLjvD0Lobg+tnb968kYiICJkxY4aZca/Y2Fhp3769s8/kbgxuAHz8+NG5goab7wmLfcMVLLCv5H4MboDg/jm9evVy5SVfsU/Yt2/fvpkZcjsGN8AGDRrkHDroFsOGDZPBgwebEWnB4AYBjvft16+fZGZmmpnA+/79u7MPPPZYJwY3SCZNmiQdOnQIyuek+JwZ28Y+kE4MbhDh89LGjRtLenq6mfE/bAvb1HxwCDG4QbdixQqpWrWqnDhxwsz4D7aBbWGbpBuD6wI7duxwbkfpzzu247WLFi3qbIv0Y3BdAvfcCQ0NlVWrVpkZ38FNuPDavAeSPRhcF7lx44Y0bdrUp6cF4rS88PBw57XJHgyuy7x790569uwpI0eONDMFh9fAa+E1yS4MrkvhptA4BBFnGeUXnoPn8sbS9mJwXQz35Klbt66cPXvWzOQOj61Tp47MnTvXzJCNGFyX27Jli/OOc17eDcZj8M4xnkN2Y3AVOH78uNSsWfOPFyGfN2+e8xg8luzH4CqBu73jVpbZHVuMOXyPd833DgZXGZyChxPz792753zhxHc3nipI/sXgKrRkyRKpVKmS84U/k/cwuErt27fP+SJvYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJFGJwiRRicIkUYnCJ1BH5G6rwRx6NKiEwAAAAAElFTkSuQmCC" alt=""></p><h3 id="_2-4-11-封装路径path2d" tabindex="-1">2.4.11-封装路径Path2D <a class="header-anchor" href="#_2-4-11-封装路径path2d" aria-label="Permalink to &quot;2.4.11-封装路径Path2D&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.moveTo(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(350, 150, 400, 200, 300, 280);</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(200, 200, 250, 150, 300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var chatPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.moveTo(200,300)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 300, 150, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 100, 300, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 100, 450, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 300, 250, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(250, 350, 150, 350);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(200, 350, 200, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(chatPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">     /**</span></span>
<span class="line"><span style="color:#A6ACCD;">      * 创建折线(svg写法)</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   M10 10 起点</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   h 80 水平80</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   v 80 垂直80</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   z 回到起点</span></span>
<span class="line"><span style="color:#A6ACCD;">      */</span></span>
<span class="line"><span style="color:#A6ACCD;">    var polyline = new Path(&quot;M10 10 h 80 v 80 h -80 z&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(polyline);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h1 id="三、样式与颜色控制" tabindex="-1">三、样式与颜色控制 <a class="header-anchor" href="#三、样式与颜色控制" aria-label="Permalink to &quot;三、样式与颜色控制&quot;">​</a></h1><h2 id="_3-1-颜色" tabindex="-1">3.1-颜色 <a class="header-anchor" href="#_3-1-颜色" aria-label="Permalink to &quot;3.1-颜色&quot;">​</a></h2><p>ctx.==<strong>globalAlpha</strong>===1; //全局透明度</p><p>ctx.==<strong>fillStyle</strong>===&#39;rgba(255,200,200,0.3)&#39;; //填充颜色</p><h2 id="_3-2-渐变" tabindex="-1">3.2-渐变 <a class="header-anchor" href="#_3-2-渐变" aria-label="Permalink to &quot;3.2-渐变&quot;">​</a></h2><h3 id="_3-2-1-线性渐变" tabindex="-1">3.2.1-线性渐变 <a class="header-anchor" href="#_3-2-1-线性渐变" aria-label="Permalink to &quot;3.2.1-线性渐变&quot;">​</a></h3><p><strong>createLinearGradient</strong></p><ul><li>语法：ctx.createLinearGradient(x0,y0,x1,y1); ==<strong>//参数：x0,y0 起始坐标，x1,y1 结束坐标</strong>==</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    let index =0;</span></span>
<span class="line"><span style="color:#A6ACCD;">    function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">    	//每一次渲染先清除上一次的图形</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.clearRect(0 ,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">        index += 0.01;</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(index&gt;1){</span></span>
<span class="line"><span style="color:#A6ACCD;">            index=0;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        let linerGradient = ctx.createLinearGradient(100, 200, 400, 500);</span></span>
<span class="line"><span style="color:#A6ACCD;">        linerGradient.addColorStop(0, &#39;red&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        linerGradient.addColorStop(index, &#39;#ffcccc&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        linerGradient.addColorStop(1, &#39;blue&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillStyle = linerGradient;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(100,200,300,300);</span></span>
<span class="line"><span style="color:#A6ACCD;">        requestAnimationFrame(render);  </span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">	//请求动画帧</span></span>
<span class="line"><span style="color:#A6ACCD;">    requestAnimationFrame(render);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_3-2-2-径向渐变" tabindex="-1">3.2.2-径向渐变 <a class="header-anchor" href="#_3-2-2-径向渐变" aria-label="Permalink to &quot;3.2.2-径向渐变&quot;">​</a></h3><p><strong>createRadialGradient</strong></p><ul><li>语法：ctx.createRadialGradient(300, 200, 0, 300, 200, 100)</li><li>==<strong>//参数：(圆心x1,圆心y1，半径1，圆心x2，圆心y2，半径2)</strong>==</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let index =0;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // createRadialGradient(圆心x1,圆心y1，半径1，圆心x2，圆心y2，半径2)</span></span>
<span class="line"><span style="color:#A6ACCD;">    let radiaGradient = ctx.createRadialGradient(300, 200, 0, 300, 200, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    radiaGradient.addColorStop(0, &#39;red&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    radiaGradient.addColorStop(0.3, &#39;#ffcccc&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    radiaGradient.addColorStop(1, &#39;blue&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillStyle=radiaGradient;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_3-2-3-圆锥渐变" tabindex="-1">3.2.3-圆锥渐变 <a class="header-anchor" href="#_3-2-3-圆锥渐变" aria-label="Permalink to &quot;3.2.3-圆锥渐变&quot;">​</a></h3><p>==createConicGradient(角度，位置x，位置y)==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // createConicGradient(角度，位置x，位置y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    let coneGradient = ctx.createConicGradient(Math.PI/4,300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    coneGradient.addColorStop(0, &#39;red&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    coneGradient.addColorStop(0.5, &#39;yellow&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    coneGradient.addColorStop(1, &#39;blue&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillStyle =coneGradient;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(300,200,100,0,Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_3-3-pattern模式" tabindex="-1">3.3-pattern模式 <a class="header-anchor" href="#_3-3-pattern模式" aria-label="Permalink to &quot;3.3-pattern模式&quot;">​</a></h2><p><strong>创建图案对象createPattern</strong>（可以是image对象也可以是canvas对象，重复方式repeat,no-repeat,repeat-x.repeat-y）</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var img =new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = &quot;./img/1.ico&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    img.onload = function(){</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 创建图案对象createPattern（可以是image对象也可以是canvas对象，重复方式repeat,no-repeat,repeat-x.repeat-y）</span></span>
<span class="line"><span style="color:#A6ACCD;">        var pattern = ctx.createPattern(img, &quot;no-repeat&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillStyle=pattern;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">    };</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_3-4线条样式" tabindex="-1">3.4线条样式 <a class="header-anchor" href="#_3-4线条样式" aria-label="Permalink to &quot;3.4线条样式&quot;">​</a></h2><p>==<strong>lineWidth</strong>==：线条宽度，默认是1px</p><p>==<strong>lineCap</strong>==：端点样式，butt平齐，round半圆，square正方形</p><p>==<strong>lineJoin</strong>==：两条线相连的样式，mitter角，round圆润，bevel折平</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.moveTo(280, 150);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineTo(300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineTo(320,150);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        /*  设置线条样式</span></span>
<span class="line"><span style="color:#A6ACCD;">            lineWidth默认是1px</span></span>
<span class="line"><span style="color:#A6ACCD;">            lineCap端点样式，butt平齐，round半圆，square正方形</span></span>
<span class="line"><span style="color:#A6ACCD;">            lineJoin两条线相连的样式，mitter角，round圆润，bevel折平</span></span>
<span class="line"><span style="color:#A6ACCD;">        */</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineWidth=20;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineCap=&#39;butt&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineJoin=&#39;mitter&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 限制两条线相连的角的衍生长度</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.miterLimit=2;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/script&gt;</span></span></code></pre></div><h2 id="_3-5虚线样式" tabindex="-1">3.5虚线样式 <a class="header-anchor" href="#_3-5虚线样式" aria-label="Permalink to &quot;3.5虚线样式&quot;">​</a></h2><p><strong>setLineDash</strong>([实线像素，空白像素])</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">let index=0;</span></span>
<span class="line"><span style="color:#A6ACCD;">        function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.clearRect(0, 0, 600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">            index++;</span></span>
<span class="line"><span style="color:#A6ACCD;">            if(index&gt;40){</span></span>
<span class="line"><span style="color:#A6ACCD;">                index=0</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.moveTo(150, 150);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineTo(300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineTo(450,150);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineWidth=1;</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineCap=&#39;butt&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineJoin=&#39;mitter&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 限制两条线相连的角的衍生长度</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.miterLimit=2;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // setLineDash([实线像素，空白像素])</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.setLineDash([40,5]);</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 设置偏移</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineDashOffset=index;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">            requestAnimationFrame(render);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        render();</span></span></code></pre></div><h2 id="_3-6阴影" tabindex="-1">3.6阴影 <a class="header-anchor" href="#_3-6阴影" aria-label="Permalink to &quot;3.6阴影&quot;">​</a></h2><ul><li>类比于 CSS3 的阴影。</li><li>shadowColor ： 设置或返回用于阴影的颜色</li><li>shadowBlur ： 设置或返回用于阴影的模糊级别,大于 1 的正整数，数值越高，模糊程度越大</li><li>shadowOffsetX： 设置或返回阴影距形状的水平距离</li><li>shadowOffsetY： 设置或返回阴影距形状的垂直距离</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.moveTo(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(350, 150, 400, 200, 300, 280);</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(200, 200, 250, 150, 300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置路径颜色</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeStyle=&#39;red&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置全局透明度</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.globalAlpha=1;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var chatPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.moveTo(200,300)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 300, 150, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 100, 300, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 100, 450, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 300, 250, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(250, 350, 150, 350);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(200, 350, 200, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置阴影</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowOffsetX=10;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowOffsetY=10;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // shadowBlur模糊度</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowBlur=5;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowColor=&#39;rgba(255,100,100,1)&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置路径颜色</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeStyle=&#39;blue&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(chatPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置填充颜色</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillStyle=&#39;rgba(255,200,200,0.3)&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="/notes/assets/6.34c6fb4a.jpg" alt=""></p><h2 id="_3-7绘制图片" tabindex="-1">3.7绘制图片 <a class="header-anchor" href="#_3-7绘制图片" aria-label="Permalink to &quot;3.7绘制图片&quot;">​</a></h2><ul><li><strong>context.drawImage(img,x,y);</strong> 参数说明： x,y 绘制图片左上角的坐标， img是绘制图片的dom对象。</li><li><strong>context.drawImage(img,x,y,width,height);</strong> 参数说明：width 绘制图片的宽度， height：绘制图片的高度 如果指定宽高，最好成比例，不然图片会被拉伸 等比公式： toH = Height * toW / Width; //等比 设置高 = 原高度 * 设置宽/ 原宽度;</li><li><strong>context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height);</strong> 参数说明： sx,sy 裁剪的左上角坐标， swidth：裁剪图片的高度。 sheight:裁剪的高度 其他同上</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1 = document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!c1.getContext) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx = c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取图片</span></span>
<span class="line"><span style="color:#A6ACCD;">    var img = new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = &quot;./img/10.jpg&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    img.onload = function () {</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 第一种方式 (图片对象，位置x，位置y)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // ctx.drawImage(img,0,0)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 第二种 (图片对象，位置x，位置y,图片宽，图片高)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // ctx.drawImage(img,0,0,600,400)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 第三种 (图片对象，起点位置x，起点位置y,裁剪原图片宽，裁剪原图片高,画布位置x,画布位置y，渲染图片宽，渲染图片高)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.drawImage(img, 1280, 0, 1280, 720, 0, 0, 600, 400)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    };</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_3-8绘制视频" tabindex="-1">3.8绘制视频 <a class="header-anchor" href="#_3-8绘制视频" aria-label="Permalink to &quot;3.8绘制视频&quot;">​</a></h2><p>==ctx.drawImage(<strong>video</strong>,0,0,600,400);==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">body&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;!-- </span></span>
<span class="line"><span style="color:#A6ACCD;">        canvas三要素</span></span>
<span class="line"><span style="color:#A6ACCD;">            id：标识元素唯一性</span></span>
<span class="line"><span style="color:#A6ACCD;">            width：画布宽度</span></span>
<span class="line"><span style="color:#A6ACCD;">            height：画布高度</span></span>
<span class="line"><span style="color:#A6ACCD;">     --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;canvas id=&quot;c1&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/canvas&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;video width=&quot;600px&quot; height=&quot;400px&quot; src=&quot;./img/原神.mp4&quot; controls hidden&gt;&lt;/video&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;button id=&quot;btn&quot;&gt;播放/暂停&lt;/button&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取视频对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        // var video = document.createElement(&#39;video&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // video.src=&quot;./img/原神.mp4&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">        var  video =document.querySelector(&#39;video&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取按钮</span></span>
<span class="line"><span style="color:#A6ACCD;">        let btn =document.querySelector(&#39;#btn&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        btn.onclick=function(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            if(video.paused){</span></span>
<span class="line"><span style="color:#A6ACCD;">                video.play();</span></span>
<span class="line"><span style="color:#A6ACCD;">                render();</span></span>
<span class="line"><span style="color:#A6ACCD;">            }else{</span></span>
<span class="line"><span style="color:#A6ACCD;">                video.pause();</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取图片logo对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        let img = new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">        img.src=&quot;./img/1.ico&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.drawImage(video,0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.drawImage(img,500,300,100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">            requestAnimationFrame(render)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/body&gt;</span></span></code></pre></div><p><img src="/notes/assets/2.c80b699f.gif" alt=""></p><h2 id="_3-9文字绘制" tabindex="-1">3.9文字绘制 <a class="header-anchor" href="#_3-9文字绘制" aria-label="Permalink to &quot;3.9文字绘制&quot;">​</a></h2><ul><li>ctx.font = &quot;100px Microsoft YaHei&quot;；设置文字（大小，字体）</li><li>ctx.fillText(&quot;Hello World&quot;,100,100,100); （文本，文本坐标x，文本坐标y，绘制文字的最大的宽度）</li><li>textAlign:start(默认值),end,left,right,center 文本对齐选项</li><li>文本基线对齐 textBaseline:top,bottom,alphabetic(默认值),middle</li><li>文本方向 ctx.direction=&quot;rtl&quot;;</li><li>测量文本宽度 ctx.measureText(&#39;Hello!&#39;)</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置文字（大小，字体）</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.font = &quot;100px Microsoft YaHei&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeStyle=&quot;red&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // fillText（文本，文本坐标x，文本坐标y，绘制文字的最大的宽度）</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.fillText(&quot;Hello World&quot;,100,100,100);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本对齐选项 textAlign:start(默认值),end,left,right,center</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.textAlign=&quot;center&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本基线对齐 textBaseline:top,bottom,alphabetic(默认值),middle</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.textBaseline=&quot;middle&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本方向</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.direction=&quot;rtl&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // strokeText文字轮廓</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeText(&quot;Hello!&quot;,300,200,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本对齐选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.textAlign=&quot;center&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 预测量文本宽度</span></span>
<span class="line"><span style="color:#A6ACCD;">    let length = ctx.measureText(&#39;Hello!&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(length);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(300,200,5,0,Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h1 id="四、变形位移" tabindex="-1">四、变形位移 <a class="header-anchor" href="#四、变形位移" aria-label="Permalink to &quot;四、变形位移&quot;">​</a></h1><h2 id="_4-1位移" tabindex="-1">4.1位移 <a class="header-anchor" href="#_4-1位移" aria-label="Permalink to &quot;4.1位移&quot;">​</a></h2><p><strong>ctx.translate(x,y) 方法</strong>重新映射画布上的 (0,0) 位置</p><p>参数说明：</p><p>x： 添加到水平坐标（x）上的值 y： 添加到垂直坐标（y）上的值 发生位移后，相当于把画布的 0,0 坐标 更换到新的 x,y 的位置，所有绘制的新元素都被影响。</p><p>位移画布一般配合缩放和旋转等。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 移动坐标系圆点</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.translate(100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(0,0,50,50);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.translate(100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(0,0,50,50);</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/script&gt;</span></span></code></pre></div><h2 id="_4-2缩放" tabindex="-1">4.2缩放 <a class="header-anchor" href="#_4-2缩放" aria-label="Permalink to &quot;4.2缩放&quot;">​</a></h2><p><strong>scale()</strong> 方法缩放当前绘图，更大或更小 语法：<strong>context.scale(scalewidth,scaleheight)</strong> scalewidth : 缩放当前绘图的宽度 (1=100%, 0.5=50%, 2=200%, 依次类推) scaleheight : 缩放当前绘图的高度 (1=100%, 0.5=50%, 2=200%, etc.) +注意：缩放的是整个画布，缩放后，继续绘制的图形会被放大或缩小。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // scale坐标系拉伸</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.scale(5,2)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(0,0,50,50);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_4-3旋转" tabindex="-1">4.3旋转 <a class="header-anchor" href="#_4-3旋转" aria-label="Permalink to &quot;4.3旋转&quot;">​</a></h2><ul><li><code>context.rotate(angle);</code> 方法旋转当前的绘图，<strong>旋转坐标系</strong></li><li>注意参数是弧度（PI）</li><li>如需将角度转换为弧度，请使用 degrees*Math.PI/180 公式进行计算。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 旋转坐标系</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.rotate(Math.PI/6)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.fillRect(0,0,500,50);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.translate(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.rotate(Math.PI/4)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.scale(2,1)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(-250,-25,500,50)</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_4-4-transform矩阵控制" tabindex="-1">4.4-transform矩阵控制 <a class="header-anchor" href="#_4-4-transform矩阵控制" aria-label="Permalink to &quot;4.4-transform矩阵控制&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // transform进行位移，默认坐标轴，水平坐标（1，0）不变，竖直坐标（0，1）不变，位移（100，100）</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.transform(1,0,0,1,100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // transform进行旋转45°且拉长根号2倍，坐标轴旋转，水平坐标变为（1，1），竖直坐标变为（-1，1）</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.transform(1,1,-1,1,0,0)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(0,0,500,50)</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h1 id="_5-canvas高级" tabindex="-1">5.canvas高级 <a class="header-anchor" href="#_5-canvas高级" aria-label="Permalink to &quot;5.canvas高级&quot;">​</a></h1><h2 id="_5-1-合成图像模式" tabindex="-1">5.1-合成图像模式 <a class="header-anchor" href="#_5-1-合成图像模式" aria-label="Permalink to &quot;5.1-合成图像模式&quot;">​</a></h2><p>// 图像源和目标图像的叠加方式：<strong>globalCompositeOperation</strong></p><p>// 只有源图像外的目标图像部分会被显示，源图像是透明的：destination-out</p><p>ctx.globalCompositeOperation=&#39;destination-out&#39;; ctx.globalCompositeOperation=&quot;source-in&quot;;</p><p><img src="/notes/assets/4.350753a3.gif" alt=""></p><h2 id="_5-2-裁剪" tabindex="-1">5.2-裁剪 <a class="header-anchor" href="#_5-2-裁剪" aria-label="Permalink to &quot;5.2-裁剪&quot;">​</a></h2><ul><li><strong>ctx.clip();</strong> 方法从原始画布中剪切任意形状和尺寸</li><li>一旦剪切了某个区域，则所有之后的绘图都会被限制在被剪切的区域内（不能访问画布上的其他区域）</li><li>一般配合绘制环境的保存和还原。</li></ul><h2 id="_5-3-状态的恢复与保存" tabindex="-1">5.3-状态的恢复与保存 <a class="header-anchor" href="#_5-3-状态的恢复与保存" aria-label="Permalink to &quot;5.3-状态的恢复与保存&quot;">​</a></h2><ul><li><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ctx.save()</span></span></code></pre></div><p>保存当前环境的状态</p><ul><li>可以把当前绘制环境进行保存到缓存中。</li></ul></li><li><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ctx.restore()</span></span></code></pre></div><p>返回之前保存过的路径状态和属性</p><ul><li>获取最近缓存的 ctx</li></ul></li><li><p>一般配合位移画布使用。</p></li><li><p>save与restore是堆栈操作</p></li></ul><h2 id="_5-4-画布保存base64编码" tabindex="-1">5.4-画布保存base64编码 <a class="header-anchor" href="#_5-4-画布保存base64编码" aria-label="Permalink to &quot;5.4-画布保存base64编码&quot;">​</a></h2><ul><li><p>把 canvas 绘制的内容输出成 base64 内容。</p></li><li><p>语法：canvas.toDataURL(type, encoderOptions);</p></li><li><p>例如：canvas.toDataURL(“image/jpg”,1);</p></li><li><p>参数说明：</p><ul><li>type，设置输出的类型，比如 image/png image/jpeg 等</li><li>encoderOptions： 0-1 之间的数字，用于标识输出图片的质量，1 表示无损压缩，类型为： image/jpeg 或者 image/webp 才起作用。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">var canvas = document.getElementById(&quot;canvas&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var dataURL = canvas.toDataURL();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(dataURL);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNby</span></span>
<span class="line"><span style="color:#A6ACCD;">    // blAAAADElEQVQImWNgoBMAAABpAAFEI8ARAAAAAElFTkSuQmCC&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    var img = document.querySelector(&quot;#img-demo&quot;);//拿到图片的dom对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = canvas.toDataURL(&quot;image/png&quot;);      //将画布的内容给图片标签显示</span></span></code></pre></div></li></ul><h2 id="_5-5-画布渲染画布" tabindex="-1">5.5-画布渲染画布 <a class="header-anchor" href="#_5-5-画布渲染画布" aria-label="Permalink to &quot;5.5-画布渲染画布&quot;">​</a></h2><ul><li>context.drawImage(img,x,y);</li><li>img 参数也可以是画布，也就是把一个画布整体的渲染到另外一个画布上。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">var canvas1 = document.querySelector(&#39;#cavsElem1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var canvas2 = document.querySelector(&#39;#cavsElem2&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx1 = canvas1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx2 = canvas2.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx1.fillRect(20, 20, 40, 40);      //在第一个画布上绘制矩形</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx2.drawImage(canvas1, 10, 10);    //将第一个画布整体绘制到第二个画布上</span></span></code></pre></div><h2 id="_5-6像素操作" tabindex="-1">5.6像素操作 <a class="header-anchor" href="#_5-6像素操作" aria-label="Permalink to &quot;5.6像素操作&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let img = new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = &quot;./img/10.jpg&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.onload = function(){</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.drawImage(img,0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取像素数据</span></span>
<span class="line"><span style="color:#A6ACCD;">        let imageData = ctx.getImageData(0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(imageData);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 循环修改数据</span></span>
<span class="line"><span style="color:#A6ACCD;">        for(let i=0;i&lt;imageData.data.length;i+=4){</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 计算当前像素的平均值</span></span>
<span class="line"><span style="color:#A6ACCD;">            let avg =(imageData.data[i]+imageData.data[i+1]+imageData.data[i+2])/3;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 设置灰度</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i]=avg;</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i+1]=avg;</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i+2]=avg;</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i+3]=255;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 将修改后的数据重新渲染到画布上</span></span>
<span class="line"><span style="color:#A6ACCD;">        // putImageData(imageData,0,0,300(修改起始位置x),200(修改起始位置y),300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.putImageData(imageData,0,0,300,200,600,400)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="/notes/assets/7.4f8a61c7.jpg" alt=""></p><h2 id="_5-7-元素封装" tabindex="-1">5.7-元素封装 <a class="header-anchor" href="#_5-7-元素封装" aria-label="Permalink to &quot;5.7-元素封装&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    class Heart{</span></span>
<span class="line"><span style="color:#A6ACCD;">        constructor(x,y){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.x=x;</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.y=y;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">            // 颜色默认红色</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.color=&quot;red&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 鼠标默认不在路径上</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.isIn = false;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 事件列表</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.eventMapList = {</span></span>
<span class="line"><span style="color:#A6ACCD;">                hover:[],</span></span>
<span class="line"><span style="color:#A6ACCD;">                leave:[],</span></span>
<span class="line"><span style="color:#A6ACCD;">            };</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">            // 鼠标移动函数</span></span>
<span class="line"><span style="color:#A6ACCD;">            c1.onmousemove = (e) =&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">                let x= e.offsetX;</span></span>
<span class="line"><span style="color:#A6ACCD;">                let y= e.offsetY;</span></span>
<span class="line"><span style="color:#A6ACCD;">                // 判断坐标x,y是否在路径上</span></span>
<span class="line"><span style="color:#A6ACCD;">                this.isIn =  ctx.isPointInPath(this.heartPath,x,y)</span></span>
<span class="line"><span style="color:#A6ACCD;">                if(this.isIn){</span></span>
<span class="line"><span style="color:#A6ACCD;">                    this.eventMapList.hover.forEach((item)=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">                        item();</span></span>
<span class="line"><span style="color:#A6ACCD;">                    })</span></span>
<span class="line"><span style="color:#A6ACCD;">                }else{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    this.eventMapList.leave.forEach((item)=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">                        item();</span></span>
<span class="line"><span style="color:#A6ACCD;">                    })</span></span>
<span class="line"><span style="color:#A6ACCD;">                }</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 封装鼠标移入</span></span>
<span class="line"><span style="color:#A6ACCD;">        onHover(fn){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.eventMapList.hover.push(fn);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 封装鼠标移出</span></span>
<span class="line"><span style="color:#A6ACCD;">        onLeave(fn){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.eventMapList.leave.push(fn);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // setPosition(x,y){</span></span>
<span class="line"><span style="color:#A6ACCD;">        //     this.x=x;</span></span>
<span class="line"><span style="color:#A6ACCD;">        //     this.y=y;</span></span>
<span class="line"><span style="color:#A6ACCD;">        // }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        draw(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath.moveTo(this.x,this.y);</span></span>
<span class="line"><span style="color:#A6ACCD;">            // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath.bezierCurveTo(this.x+50, this.y-50, this.x+100, this.y, this.x, this.y+50);</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath.bezierCurveTo(this.x-100, this.y, this.x-50, this.y-50, this.x, this.y);</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 存储状态</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.save();</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.fillStyle=this.color;</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.fill(this.heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.restore();</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let heart = new Heart(100,100);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    heart.onHover(()=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        heart.color=&quot;blue&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">    heart.onLeave(()=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        heart.color=&quot;red&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 渲染</span></span>
<span class="line"><span style="color:#A6ACCD;">    function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 清空画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.clearRect(0,0,c1.width,c1.height);</span></span>
<span class="line"><span style="color:#A6ACCD;">        heart.draw();</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 请求动画帧</span></span>
<span class="line"><span style="color:#A6ACCD;">        requestAnimationFrame(render);</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    render();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="/notes/assets/3.b1b181a3.gif" alt=""></p></div></div></main><footer class="VPDocFooter" data-v-d2e161c6 data-v-573a09ea><!--[--><!--]--><!----><div class="prev-next" data-v-573a09ea><div class="pager" data-v-573a09ea><!----></div><div class="pager" data-v-573a09ea><a class="pager-link next" href="/notes/guide/what-is-vitepress.html" data-v-573a09ea><span class="desc" data-v-573a09ea>下一篇</span><span class="title" data-v-573a09ea>Introduction</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"b1ea3a29\",\"base_canvas.md\":\"731e270d\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"youlem\",\"description\":\"A VitePress site\",\"base\":\"/notes/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/vite.svg\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide\",\"activeMatch\":\"/guide/what-is-vitepress\"},{\"text\":\"下拉选择框\",\"items\":[{\"text\":\"options-1\",\"link\":\"/\"},{\"text\":\"options-2\",\"link\":\"http://www.baidu.com\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com\"}],\"sidebar\":[{\"text\":\"Guide\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/what-is-vitepress\"},{\"text\":\"Getting Started\",\"link\":\"/getting-started\"}],\"collapsible\":true,\"collapsed\":true}],\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>
import{_ as s,o as n,c as a,O as l}from"./chunks/framework.d766459c.js";const p="/notes/assets/1.d65dbbab.gif",e="/notes/assets/3.37d12ab3.jpg",t="/notes/assets/4.e8a84ca5.jpg",o="data:image/jpeg;base64,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",c="/notes/assets/6.34c6fb4a.jpg",i="/notes/assets/2.c80b699f.gif",C="/notes/assets/4.350753a3.gif",r="/notes/assets/7.4f8a61c7.jpg",A="/notes/assets/3.b1b181a3.gif",f=JSON.parse('{"title":"一、canvas简介","description":"","frontmatter":{},"headers":[],"relativePath":"base/canvas.md","filePath":"base/canvas.md"}'),y={name:"base/canvas.md"},D=l(`<h1 id="一、canvas简介" tabindex="-1">一、canvas简介 <a class="header-anchor" href="#一、canvas简介" aria-label="Permalink to &quot;一、canvas简介&quot;">​</a></h1><h2 id="_1-1什么是canvas" tabindex="-1">1.1什么是canvas <a class="header-anchor" href="#_1-1什么是canvas" aria-label="Permalink to &quot;1.1什么是canvas&quot;">​</a></h2><ul><li>html5提供的一种新标签</li><li>Canvas是一个矩形区域的画布，使用JavaScript在上面绘制，控制每一个像素</li><li>Canvas拥有多种绘制路径，矩形，圆形，字符以及添加图像等方法</li></ul><h2 id="_1-2应用领域" tabindex="-1">1.2应用领域 <a class="header-anchor" href="#_1-2应用领域" aria-label="Permalink to &quot;1.2应用领域&quot;">​</a></h2><ul><li>html5游戏</li><li>可视化数据：echart</li><li>banner动态广告</li><li>移动端应用</li></ul><h1 id="二、canvas基础-图形" tabindex="-1">二、canvas基础-图形 <a class="header-anchor" href="#二、canvas基础-图形" aria-label="Permalink to &quot;二、canvas基础-图形&quot;">​</a></h1><h2 id="_2-1canvas标签语法" tabindex="-1">2.1canvas标签语法 <a class="header-anchor" href="#_2-1canvas标签语法" aria-label="Permalink to &quot;2.1canvas标签语法&quot;">​</a></h2><ul><li>canvas可以设置width和height属性，<strong>单位必须是px，可以省略</strong></li><li>==width和height：默认是300x150像素==</li><li>注意： <ul><li>==不要用CSS控制canvas画布的宽高，会让图片拉伸==</li><li>重新设置canvas标签的宽高属性会让画布擦除所有内容</li><li>可以给canvas画布设置背景色</li></ul></li><li>==<strong>cavas代码提示： 在script标签中添加 /</strong> @type {HTMLCanvasElement} */==</li></ul><h2 id="_2-2浏览器兼容" tabindex="-1">2.2浏览器兼容 <a class="header-anchor" href="#_2-2浏览器兼容" aria-label="Permalink to &quot;2.2浏览器兼容&quot;">​</a></h2><ul><li>如果浏览器不兼容进行友好提示</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;canvas id=&quot;cavsElem&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  你的浏览器不支持canvas，请升级浏览器</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/canvas&gt;</span></span></code></pre></div><h2 id="_2-3canvas上下文context" tabindex="-1">2.3canvas上下文context <a class="header-anchor" href="#_2-3canvas上下文context" aria-label="Permalink to &quot;2.3canvas上下文context&quot;">​</a></h2><ul><li>上下文：是所有的绘制操作 api 的入口或者集合。</li><li>Canvas 自身无法绘制任何内容。Canvas 的绘图是使用 JavaScript 操作的。</li><li>Context 对象就是 JavaScript 操作 Canvas 的接口。 使用==<strong>[CanvasElement].getContext(‘2d’)</strong>==来获取 2D 绘图上下文。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">var canvas = document.getElementById(&#39;cavsElem&#39;); //获得画布</span></span>
<span class="line"><span style="color:#A6ACCD;">var ctx = canvas.getContext(&#39;2d&#39;); //注意：2d小写， 3d：webgl</span></span></code></pre></div><h2 id="_2-4基本图形绘制" tabindex="-1">2.4基本图形绘制 <a class="header-anchor" href="#_2-4基本图形绘制" aria-label="Permalink to &quot;2.4基本图形绘制&quot;">​</a></h2><ul><li>canvas坐标系：<strong>最左上角为坐标原点（0，0），x向右增大，y向下增大</strong></li><li>canvas三要素</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;!-- </span></span>
<span class="line"><span style="color:#A6ACCD;">canvas三要素</span></span>
<span class="line"><span style="color:#A6ACCD;">  id：标识元素唯一性</span></span>
<span class="line"><span style="color:#A6ACCD;">  width：画布宽度</span></span>
<span class="line"><span style="color:#A6ACCD;">  height：画布高度</span></span>
<span class="line"><span style="color:#A6ACCD;">--&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;canvas id=&quot;c1&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span></span></code></pre></div><h3 id="_2-4-1-矩形绘制填充模式" tabindex="-1">2.4.1-矩形绘制填充模式 <a class="header-anchor" href="#_2-4-1-矩形绘制填充模式" aria-label="Permalink to &quot;2.4.1-矩形绘制填充模式&quot;">​</a></h3><p><strong>填充</strong>： ==<strong>ctx.fill();</strong>== <strong>矩形：==ctx.rect();==</strong><strong>绘制矩形fillrect（位置x，位置y，宽度，高度）</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;canvas id=&quot;c1&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制矩形fillrect（位置x，位置y，宽度，高度）</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(100,200,300,300); </span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-2-矩形绘制路径模式" tabindex="-1">2.4.2-矩形绘制路径模式 <a class="header-anchor" href="#_2-4-2-矩形绘制路径模式" aria-label="Permalink to &quot;2.4.2-矩形绘制路径模式&quot;">​</a></h3><p>==<strong>填充：ctx.stroke();</strong>==</p><p><strong>矩形：==ctx.rect();==</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 绘制矩形fillrect（位置x，位置y，宽度，高度）填充模式</span></span>
<span class="line"><span style="color:#A6ACCD;">        // strokeRect(路径模式)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.strokeRect(100,100,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-3-矩形绘制清除模式" tabindex="-1">2.4.3-矩形绘制清除模式 <a class="header-anchor" href="#_2-4-3-矩形绘制清除模式" aria-label="Permalink to &quot;2.4.3-矩形绘制清除模式&quot;">​</a></h3><p>==<strong>清除所有：ctx.clearRect(0, 0, c1.clientWidth, c1.clientHeight);</strong>==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制矩形fillrect（位置x，位置y，宽度，高度）填充模式</span></span>
<span class="line"><span style="color:#A6ACCD;">    // strokeRect(路径模式)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeRect(100,100,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(200,150,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // clearRect（清除画布内所有图形）</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.clearRect(0, 0, c1.clientWidth, c1.clientHeight);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    let height=0</span></span>
<span class="line"><span style="color:#A6ACCD;">    let t1 = setInterval(()=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        height++;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.clearRect(0, 0, c1.clientWidth, height);</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(height&gt;c1.clientHeight){</span></span>
<span class="line"><span style="color:#A6ACCD;">            clearInterval(t1);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    },10);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="`+p+`" alt=""></p><h3 id="_2-4-4-分开写法" tabindex="-1">2.4.4-分开写法 <a class="header-anchor" href="#_2-4-4-分开写法" aria-label="Permalink to &quot;2.4.4-分开写法&quot;">​</a></h3><p><strong>beginPath</strong>：开始路径 <strong>closePath</strong>：结束路径</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 拆开写法</span></span>
<span class="line"><span style="color:#A6ACCD;">    // beginPath和closePath可以完成路径的分段</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 开始画笔</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 落笔位置</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.rect(100,100,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 路径模式</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 结束画笔</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.rect(200,150,200,100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 填充模式</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-5-圆弧绘制" tabindex="-1">2.4.5-圆弧绘制 <a class="header-anchor" href="#_2-4-5-圆弧绘制" aria-label="Permalink to &quot;2.4.5-圆弧绘制&quot;">​</a></h3><p><strong>ctx.arc();</strong></p><p>==arc(圆心x,圆心y,半径,开始的角度,结束的角度,顺逆时针(默认顺时针false,逆时针为true))==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制圆弧</span></span>
<span class="line"><span style="color:#A6ACCD;">    // arc(圆心x,圆心y,半径,开始的角度,结束的角度,顺逆时针(默认顺时针false,逆时针为true))</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(300, 300, 50, 0, Math.PI /2,true);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-6-moveto移动点绘制笑脸" tabindex="-1">2.4.6-moveTo移动点绘制笑脸 <a class="header-anchor" href="#_2-4-6-moveto移动点绘制笑脸" aria-label="Permalink to &quot;2.4.6-moveTo移动点绘制笑脸&quot;">​</a></h3><p><strong>ctx.moveTo();</strong></p><p><strong>moveTo移动画笔的位置</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制圆弧</span></span>
<span class="line"><span style="color:#A6ACCD;">    // arc(圆心x,圆心y,半径,开始的角度,结束的角度,顺逆时针(默认顺时针false,逆时针为true))</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.arc(300, 300, 50, 0, Math.PI /2,true);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制一张脸</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(75, 75, 50, 0, Math.PI *2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 把画笔起始点移到(110,75) 110=75(当前圆心)+35(下笔位移半径)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(110, 75);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制嘴巴</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(75, 75, 35, 0, Math.PI);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(65, 65);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制左眼</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(60, 65, 5, 0, Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(95, 65)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 绘制右眼</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(90, 65, 5, 0, Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="`+e+`" alt=""></p><h3 id="_2-4-7-绘制线段lineto" tabindex="-1">2.4.7-绘制线段lineTo <a class="header-anchor" href="#_2-4-7-绘制线段lineto" aria-label="Permalink to &quot;2.4.7-绘制线段lineTo&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.lineTo(350, 250);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.lineTo(400,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.lineTo(300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-8-arcto绘制圆弧" tabindex="-1">2.4.8-arcTo绘制圆弧 <a class="header-anchor" href="#_2-4-8-arcto绘制圆弧" aria-label="Permalink to &quot;2.4.8-arcTo绘制圆弧&quot;">​</a></h3><ul><li>==在画布上创建介于当前起点和两个点形成的夹角的切线之间的弧==</li><li>语法： <code>context.arcTo(x1,y1,x2,y2,r);</code> //类比：css3 中的圆角。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定第二个第三个点  原理(两条线相切的圆弧)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // arcTo(x1,y1,x2,y2,半径)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arcTo(300, 250, 250, 250, 25);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_2-4-9-贝塞尔二次曲线" tabindex="-1">2.4.9-贝塞尔二次曲线 <a class="header-anchor" href="#_2-4-9-贝塞尔二次曲线" aria-label="Permalink to &quot;2.4.9-贝塞尔二次曲线&quot;">​</a></h3><p><strong>quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(200,300)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(150, 300, 150, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(150, 100, 300, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(450, 100, 450, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(450, 300, 250, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(250, 350, 150, 350);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.quadraticCurveTo(200, 350, 200, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="`+t+`" alt=""></p><h3 id="_2-4-10-贝塞尔三次曲线" tabindex="-1">2.4.10-贝塞尔三次曲线 <a class="header-anchor" href="#_2-4-10-贝塞尔三次曲线" aria-label="Permalink to &quot;2.4.10-贝塞尔三次曲线&quot;">​</a></h3><p><strong>bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.beginPath();</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.moveTo(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.bezierCurveTo(350, 150, 400, 200, 300, 280);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.bezierCurveTo(200, 200, 250, 150, 300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.closePath();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="`+o+`" alt=""></p><h3 id="_2-4-11-封装路径path2d" tabindex="-1">2.4.11-封装路径Path2D <a class="header-anchor" href="#_2-4-11-封装路径path2d" aria-label="Permalink to &quot;2.4.11-封装路径Path2D&quot;">​</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.moveTo(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(350, 150, 400, 200, 300, 280);</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(200, 200, 250, 150, 300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var chatPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.moveTo(200,300)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 300, 150, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 100, 300, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 100, 450, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 300, 250, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(250, 350, 150, 350);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(200, 350, 200, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(chatPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">     /**</span></span>
<span class="line"><span style="color:#A6ACCD;">      * 创建折线(svg写法)</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   M10 10 起点</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   h 80 水平80</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   v 80 垂直80</span></span>
<span class="line"><span style="color:#A6ACCD;">      *   z 回到起点</span></span>
<span class="line"><span style="color:#A6ACCD;">      */</span></span>
<span class="line"><span style="color:#A6ACCD;">    var polyline = new Path(&quot;M10 10 h 80 v 80 h -80 z&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(polyline);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h1 id="三、样式与颜色控制" tabindex="-1">三、样式与颜色控制 <a class="header-anchor" href="#三、样式与颜色控制" aria-label="Permalink to &quot;三、样式与颜色控制&quot;">​</a></h1><h2 id="_3-1-颜色" tabindex="-1">3.1-颜色 <a class="header-anchor" href="#_3-1-颜色" aria-label="Permalink to &quot;3.1-颜色&quot;">​</a></h2><p>ctx.==<strong>globalAlpha</strong>===1; //全局透明度</p><p>ctx.==<strong>fillStyle</strong>===&#39;rgba(255,200,200,0.3)&#39;; //填充颜色</p><h2 id="_3-2-渐变" tabindex="-1">3.2-渐变 <a class="header-anchor" href="#_3-2-渐变" aria-label="Permalink to &quot;3.2-渐变&quot;">​</a></h2><h3 id="_3-2-1-线性渐变" tabindex="-1">3.2.1-线性渐变 <a class="header-anchor" href="#_3-2-1-线性渐变" aria-label="Permalink to &quot;3.2.1-线性渐变&quot;">​</a></h3><p><strong>createLinearGradient</strong></p><ul><li>语法：ctx.createLinearGradient(x0,y0,x1,y1); ==<strong>//参数：x0,y0 起始坐标，x1,y1 结束坐标</strong>==</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    let index =0;</span></span>
<span class="line"><span style="color:#A6ACCD;">    function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">    	//每一次渲染先清除上一次的图形</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.clearRect(0 ,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">        index += 0.01;</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(index&gt;1){</span></span>
<span class="line"><span style="color:#A6ACCD;">            index=0;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        let linerGradient = ctx.createLinearGradient(100, 200, 400, 500);</span></span>
<span class="line"><span style="color:#A6ACCD;">        linerGradient.addColorStop(0, &#39;red&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        linerGradient.addColorStop(index, &#39;#ffcccc&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        linerGradient.addColorStop(1, &#39;blue&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillStyle = linerGradient;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(100,200,300,300);</span></span>
<span class="line"><span style="color:#A6ACCD;">        requestAnimationFrame(render);  </span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">	//请求动画帧</span></span>
<span class="line"><span style="color:#A6ACCD;">    requestAnimationFrame(render);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_3-2-2-径向渐变" tabindex="-1">3.2.2-径向渐变 <a class="header-anchor" href="#_3-2-2-径向渐变" aria-label="Permalink to &quot;3.2.2-径向渐变&quot;">​</a></h3><p><strong>createRadialGradient</strong></p><ul><li>语法：ctx.createRadialGradient(300, 200, 0, 300, 200, 100)</li><li>==<strong>//参数：(圆心x1,圆心y1，半径1，圆心x2，圆心y2，半径2)</strong>==</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let index =0;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // createRadialGradient(圆心x1,圆心y1，半径1，圆心x2，圆心y2，半径2)</span></span>
<span class="line"><span style="color:#A6ACCD;">    let radiaGradient = ctx.createRadialGradient(300, 200, 0, 300, 200, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    radiaGradient.addColorStop(0, &#39;red&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    radiaGradient.addColorStop(0.3, &#39;#ffcccc&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    radiaGradient.addColorStop(1, &#39;blue&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillStyle=radiaGradient;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h3 id="_3-2-3-圆锥渐变" tabindex="-1">3.2.3-圆锥渐变 <a class="header-anchor" href="#_3-2-3-圆锥渐变" aria-label="Permalink to &quot;3.2.3-圆锥渐变&quot;">​</a></h3><p>==createConicGradient(角度，位置x，位置y)==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // createConicGradient(角度，位置x，位置y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    let coneGradient = ctx.createConicGradient(Math.PI/4,300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    coneGradient.addColorStop(0, &#39;red&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    coneGradient.addColorStop(0.5, &#39;yellow&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    coneGradient.addColorStop(1, &#39;blue&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillStyle =coneGradient;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(300,200,100,0,Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_3-3-pattern模式" tabindex="-1">3.3-pattern模式 <a class="header-anchor" href="#_3-3-pattern模式" aria-label="Permalink to &quot;3.3-pattern模式&quot;">​</a></h2><p><strong>创建图案对象createPattern</strong>（可以是image对象也可以是canvas对象，重复方式repeat,no-repeat,repeat-x.repeat-y）</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var img =new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = &quot;./img/1.ico&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    img.onload = function(){</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 创建图案对象createPattern（可以是image对象也可以是canvas对象，重复方式repeat,no-repeat,repeat-x.repeat-y）</span></span>
<span class="line"><span style="color:#A6ACCD;">        var pattern = ctx.createPattern(img, &quot;no-repeat&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillStyle=pattern;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">    };</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_3-4线条样式" tabindex="-1">3.4线条样式 <a class="header-anchor" href="#_3-4线条样式" aria-label="Permalink to &quot;3.4线条样式&quot;">​</a></h2><p>==<strong>lineWidth</strong>==：线条宽度，默认是1px</p><p>==<strong>lineCap</strong>==：端点样式，butt平齐，round半圆，square正方形</p><p>==<strong>lineJoin</strong>==：两条线相连的样式，mitter角，round圆润，bevel折平</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.moveTo(280, 150);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineTo(300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineTo(320,150);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        /*  设置线条样式</span></span>
<span class="line"><span style="color:#A6ACCD;">            lineWidth默认是1px</span></span>
<span class="line"><span style="color:#A6ACCD;">            lineCap端点样式，butt平齐，round半圆，square正方形</span></span>
<span class="line"><span style="color:#A6ACCD;">            lineJoin两条线相连的样式，mitter角，round圆润，bevel折平</span></span>
<span class="line"><span style="color:#A6ACCD;">        */</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineWidth=20;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineCap=&#39;butt&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.lineJoin=&#39;mitter&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 限制两条线相连的角的衍生长度</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.miterLimit=2;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/script&gt;</span></span></code></pre></div><h2 id="_3-5虚线样式" tabindex="-1">3.5虚线样式 <a class="header-anchor" href="#_3-5虚线样式" aria-label="Permalink to &quot;3.5虚线样式&quot;">​</a></h2><p><strong>setLineDash</strong>([实线像素，空白像素])</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">let index=0;</span></span>
<span class="line"><span style="color:#A6ACCD;">        function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.clearRect(0, 0, 600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">            index++;</span></span>
<span class="line"><span style="color:#A6ACCD;">            if(index&gt;40){</span></span>
<span class="line"><span style="color:#A6ACCD;">                index=0</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.moveTo(150, 150);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineTo(300,200);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineTo(450,150);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineWidth=1;</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineCap=&#39;butt&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineJoin=&#39;mitter&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 限制两条线相连的角的衍生长度</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.miterLimit=2;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // setLineDash([实线像素，空白像素])</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.setLineDash([40,5]);</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 设置偏移</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.lineDashOffset=index;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.stroke();</span></span>
<span class="line"><span style="color:#A6ACCD;">            requestAnimationFrame(render);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        render();</span></span></code></pre></div><h2 id="_3-6阴影" tabindex="-1">3.6阴影 <a class="header-anchor" href="#_3-6阴影" aria-label="Permalink to &quot;3.6阴影&quot;">​</a></h2><ul><li>类比于 CSS3 的阴影。</li><li>shadowColor ： 设置或返回用于阴影的颜色</li><li>shadowBlur ： 设置或返回用于阴影的模糊级别,大于 1 的正整数，数值越高，模糊程度越大</li><li>shadowOffsetX： 设置或返回阴影距形状的水平距离</li><li>shadowOffsetY： 设置或返回阴影距形状的垂直距离</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.moveTo(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(350, 150, 400, 200, 300, 280);</span></span>
<span class="line"><span style="color:#A6ACCD;">    heartPath.bezierCurveTo(200, 200, 250, 150, 300, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置路径颜色</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeStyle=&#39;red&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置全局透明度</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.globalAlpha=1;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    var chatPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.moveTo(200,300)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // quadraticCurveTo(控制点x,控制点y,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 300, 150, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(150, 100, 300, 100);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 100, 450, 200);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(450, 300, 250, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(250, 350, 150, 350);</span></span>
<span class="line"><span style="color:#A6ACCD;">    chatPath.quadraticCurveTo(200, 350, 200, 300);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置阴影</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowOffsetX=10;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowOffsetY=10;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // shadowBlur模糊度</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowBlur=5;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.shadowColor=&#39;rgba(255,100,100,1)&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置路径颜色</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeStyle=&#39;blue&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.stroke(chatPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置填充颜色</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillStyle=&#39;rgba(255,200,200,0.3)&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill(heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="`+c+`" alt=""></p><h2 id="_3-7绘制图片" tabindex="-1">3.7绘制图片 <a class="header-anchor" href="#_3-7绘制图片" aria-label="Permalink to &quot;3.7绘制图片&quot;">​</a></h2><ul><li><strong>context.drawImage(img,x,y);</strong> 参数说明： x,y 绘制图片左上角的坐标， img是绘制图片的dom对象。</li><li><strong>context.drawImage(img,x,y,width,height);</strong> 参数说明：width 绘制图片的宽度， height：绘制图片的高度 如果指定宽高，最好成比例，不然图片会被拉伸 等比公式： toH = Height * toW / Width; //等比 设置高 = 原高度 * 设置宽/ 原宽度;</li><li><strong>context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height);</strong> 参数说明： sx,sy 裁剪的左上角坐标， swidth：裁剪图片的高度。 sheight:裁剪的高度 其他同上</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1 = document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if (!c1.getContext) {</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx = c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取图片</span></span>
<span class="line"><span style="color:#A6ACCD;">    var img = new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = &quot;./img/10.jpg&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    img.onload = function () {</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 第一种方式 (图片对象，位置x，位置y)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // ctx.drawImage(img,0,0)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 第二种 (图片对象，位置x，位置y,图片宽，图片高)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // ctx.drawImage(img,0,0,600,400)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 第三种 (图片对象，起点位置x，起点位置y,裁剪原图片宽，裁剪原图片高,画布位置x,画布位置y，渲染图片宽，渲染图片高)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.drawImage(img, 1280, 0, 1280, 720, 0, 0, 600, 400)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    };</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_3-8绘制视频" tabindex="-1">3.8绘制视频 <a class="header-anchor" href="#_3-8绘制视频" aria-label="Permalink to &quot;3.8绘制视频&quot;">​</a></h2><p>==ctx.drawImage(<strong>video</strong>,0,0,600,400);==</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">body&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;!-- </span></span>
<span class="line"><span style="color:#A6ACCD;">        canvas三要素</span></span>
<span class="line"><span style="color:#A6ACCD;">            id：标识元素唯一性</span></span>
<span class="line"><span style="color:#A6ACCD;">            width：画布宽度</span></span>
<span class="line"><span style="color:#A6ACCD;">            height：画布高度</span></span>
<span class="line"><span style="color:#A6ACCD;">     --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;canvas id=&quot;c1&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/canvas&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;video width=&quot;600px&quot; height=&quot;400px&quot; src=&quot;./img/原神.mp4&quot; controls hidden&gt;&lt;/video&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;button id=&quot;btn&quot;&gt;播放/暂停&lt;/button&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取视频对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        // var video = document.createElement(&#39;video&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        // video.src=&quot;./img/原神.mp4&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">        var  video =document.querySelector(&#39;video&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取按钮</span></span>
<span class="line"><span style="color:#A6ACCD;">        let btn =document.querySelector(&#39;#btn&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        btn.onclick=function(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            if(video.paused){</span></span>
<span class="line"><span style="color:#A6ACCD;">                video.play();</span></span>
<span class="line"><span style="color:#A6ACCD;">                render();</span></span>
<span class="line"><span style="color:#A6ACCD;">            }else{</span></span>
<span class="line"><span style="color:#A6ACCD;">                video.pause();</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取图片logo对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        let img = new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">        img.src=&quot;./img/1.ico&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.drawImage(video,0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.drawImage(img,500,300,100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">            requestAnimationFrame(render)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/body&gt;</span></span></code></pre></div><p><img src="`+i+`" alt=""></p><h2 id="_3-9文字绘制" tabindex="-1">3.9文字绘制 <a class="header-anchor" href="#_3-9文字绘制" aria-label="Permalink to &quot;3.9文字绘制&quot;">​</a></h2><ul><li>ctx.font = &quot;100px Microsoft YaHei&quot;；设置文字（大小，字体）</li><li>ctx.fillText(&quot;Hello World&quot;,100,100,100); （文本，文本坐标x，文本坐标y，绘制文字的最大的宽度）</li><li>textAlign:start(默认值),end,left,right,center 文本对齐选项</li><li>文本基线对齐 textBaseline:top,bottom,alphabetic(默认值),middle</li><li>文本方向 ctx.direction=&quot;rtl&quot;;</li><li>测量文本宽度 ctx.measureText(&#39;Hello!&#39;)</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 设置文字（大小，字体）</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.font = &quot;100px Microsoft YaHei&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeStyle=&quot;red&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // fillText（文本，文本坐标x，文本坐标y，绘制文字的最大的宽度）</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.fillText(&quot;Hello World&quot;,100,100,100);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本对齐选项 textAlign:start(默认值),end,left,right,center</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.textAlign=&quot;center&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本基线对齐 textBaseline:top,bottom,alphabetic(默认值),middle</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.textBaseline=&quot;middle&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本方向</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.direction=&quot;rtl&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    // strokeText文字轮廓</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.strokeText(&quot;Hello!&quot;,300,200,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    // 文本对齐选项</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.textAlign=&quot;center&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 预测量文本宽度</span></span>
<span class="line"><span style="color:#A6ACCD;">    let length = ctx.measureText(&#39;Hello!&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(length);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.arc(300,200,5,0,Math.PI*2);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fill();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h1 id="四、变形位移" tabindex="-1">四、变形位移 <a class="header-anchor" href="#四、变形位移" aria-label="Permalink to &quot;四、变形位移&quot;">​</a></h1><h2 id="_4-1位移" tabindex="-1">4.1位移 <a class="header-anchor" href="#_4-1位移" aria-label="Permalink to &quot;4.1位移&quot;">​</a></h2><p><strong>ctx.translate(x,y) 方法</strong>重新映射画布上的 (0,0) 位置</p><p>参数说明：</p><p>x： 添加到水平坐标（x）上的值 y： 添加到垂直坐标（y）上的值 发生位移后，相当于把画布的 0,0 坐标 更换到新的 x,y 的位置，所有绘制的新元素都被影响。</p><p>位移画布一般配合缩放和旋转等。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">        if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">            console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">        var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 移动坐标系圆点</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.translate(100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(0,0,50,50);</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.translate(100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.fillRect(0,0,50,50);</span></span>
<span class="line"><span style="color:#A6ACCD;">    &lt;/script&gt;</span></span></code></pre></div><h2 id="_4-2缩放" tabindex="-1">4.2缩放 <a class="header-anchor" href="#_4-2缩放" aria-label="Permalink to &quot;4.2缩放&quot;">​</a></h2><p><strong>scale()</strong> 方法缩放当前绘图，更大或更小 语法：<strong>context.scale(scalewidth,scaleheight)</strong> scalewidth : 缩放当前绘图的宽度 (1=100%, 0.5=50%, 2=200%, 依次类推) scaleheight : 缩放当前绘图的高度 (1=100%, 0.5=50%, 2=200%, etc.) +注意：缩放的是整个画布，缩放后，继续绘制的图形会被放大或缩小。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // scale坐标系拉伸</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.scale(5,2)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(0,0,50,50);</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_4-3旋转" tabindex="-1">4.3旋转 <a class="header-anchor" href="#_4-3旋转" aria-label="Permalink to &quot;4.3旋转&quot;">​</a></h2><ul><li><code>context.rotate(angle);</code> 方法旋转当前的绘图，<strong>旋转坐标系</strong></li><li>注意参数是弧度（PI）</li><li>如需将角度转换为弧度，请使用 degrees*Math.PI/180 公式进行计算。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // 旋转坐标系</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.rotate(Math.PI/6)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.fillRect(0,0,500,50);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.translate(300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.rotate(Math.PI/4)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.scale(2,1)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(-250,-25,500,50)</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h2 id="_4-4-transform矩阵控制" tabindex="-1">4.4-transform矩阵控制 <a class="header-anchor" href="#_4-4-transform矩阵控制" aria-label="Permalink to &quot;4.4-transform矩阵控制&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    // transform进行位移，默认坐标轴，水平坐标（1，0）不变，竖直坐标（0，1）不变，位移（100，100）</span></span>
<span class="line"><span style="color:#A6ACCD;">    // ctx.transform(1,0,0,1,100,100)</span></span>
<span class="line"><span style="color:#A6ACCD;">    // transform进行旋转45°且拉长根号2倍，坐标轴旋转，水平坐标变为（1，1），竖直坐标变为（-1，1）</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.transform(1,1,-1,1,0,0)</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx.fillRect(0,0,500,50)</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><h1 id="_5-canvas高级" tabindex="-1">5.canvas高级 <a class="header-anchor" href="#_5-canvas高级" aria-label="Permalink to &quot;5.canvas高级&quot;">​</a></h1><h2 id="_5-1-合成图像模式" tabindex="-1">5.1-合成图像模式 <a class="header-anchor" href="#_5-1-合成图像模式" aria-label="Permalink to &quot;5.1-合成图像模式&quot;">​</a></h2><p>// 图像源和目标图像的叠加方式：<strong>globalCompositeOperation</strong></p><p>// 只有源图像外的目标图像部分会被显示，源图像是透明的：destination-out</p><p>ctx.globalCompositeOperation=&#39;destination-out&#39;; ctx.globalCompositeOperation=&quot;source-in&quot;;</p><p><img src="`+C+`" alt=""></p><h2 id="_5-2-裁剪" tabindex="-1">5.2-裁剪 <a class="header-anchor" href="#_5-2-裁剪" aria-label="Permalink to &quot;5.2-裁剪&quot;">​</a></h2><ul><li><strong>ctx.clip();</strong> 方法从原始画布中剪切任意形状和尺寸</li><li>一旦剪切了某个区域，则所有之后的绘图都会被限制在被剪切的区域内（不能访问画布上的其他区域）</li><li>一般配合绘制环境的保存和还原。</li></ul><h2 id="_5-3-状态的恢复与保存" tabindex="-1">5.3-状态的恢复与保存 <a class="header-anchor" href="#_5-3-状态的恢复与保存" aria-label="Permalink to &quot;5.3-状态的恢复与保存&quot;">​</a></h2><ul><li><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ctx.save()</span></span></code></pre></div><p>保存当前环境的状态</p><ul><li>可以把当前绘制环境进行保存到缓存中。</li></ul></li><li><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ctx.restore()</span></span></code></pre></div><p>返回之前保存过的路径状态和属性</p><ul><li>获取最近缓存的 ctx</li></ul></li><li><p>一般配合位移画布使用。</p></li><li><p>save与restore是堆栈操作</p></li></ul><h2 id="_5-4-画布保存base64编码" tabindex="-1">5.4-画布保存base64编码 <a class="header-anchor" href="#_5-4-画布保存base64编码" aria-label="Permalink to &quot;5.4-画布保存base64编码&quot;">​</a></h2><ul><li><p>把 canvas 绘制的内容输出成 base64 内容。</p></li><li><p>语法：canvas.toDataURL(type, encoderOptions);</p></li><li><p>例如：canvas.toDataURL(“image/jpg”,1);</p></li><li><p>参数说明：</p><ul><li>type，设置输出的类型，比如 image/png image/jpeg 等</li><li>encoderOptions： 0-1 之间的数字，用于标识输出图片的质量，1 表示无损压缩，类型为： image/jpeg 或者 image/webp 才起作用。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">var canvas = document.getElementById(&quot;canvas&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var dataURL = canvas.toDataURL();</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(dataURL);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNby</span></span>
<span class="line"><span style="color:#A6ACCD;">    // blAAAADElEQVQImWNgoBMAAABpAAFEI8ARAAAAAElFTkSuQmCC&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    var img = document.querySelector(&quot;#img-demo&quot;);//拿到图片的dom对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = canvas.toDataURL(&quot;image/png&quot;);      //将画布的内容给图片标签显示</span></span></code></pre></div></li></ul><h2 id="_5-5-画布渲染画布" tabindex="-1">5.5-画布渲染画布 <a class="header-anchor" href="#_5-5-画布渲染画布" aria-label="Permalink to &quot;5.5-画布渲染画布&quot;">​</a></h2><ul><li>context.drawImage(img,x,y);</li><li>img 参数也可以是画布，也就是把一个画布整体的渲染到另外一个画布上。</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">var canvas1 = document.querySelector(&#39;#cavsElem1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var canvas2 = document.querySelector(&#39;#cavsElem2&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx1 = canvas1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx2 = canvas2.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx1.fillRect(20, 20, 40, 40);      //在第一个画布上绘制矩形</span></span>
<span class="line"><span style="color:#A6ACCD;">    ctx2.drawImage(canvas1, 10, 10);    //将第一个画布整体绘制到第二个画布上</span></span></code></pre></div><h2 id="_5-6像素操作" tabindex="-1">5.6像素操作 <a class="header-anchor" href="#_5-6像素操作" aria-label="Permalink to &quot;5.6像素操作&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;      </span></span>
<span class="line"><span style="color:#A6ACCD;">/** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let img = new Image();</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.src = &quot;./img/10.jpg&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    img.onload = function(){</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.drawImage(img,0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 获取像素数据</span></span>
<span class="line"><span style="color:#A6ACCD;">        let imageData = ctx.getImageData(0,0,600,400);</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(imageData);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 循环修改数据</span></span>
<span class="line"><span style="color:#A6ACCD;">        for(let i=0;i&lt;imageData.data.length;i+=4){</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 计算当前像素的平均值</span></span>
<span class="line"><span style="color:#A6ACCD;">            let avg =(imageData.data[i]+imageData.data[i+1]+imageData.data[i+2])/3;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 设置灰度</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i]=avg;</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i+1]=avg;</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i+2]=avg;</span></span>
<span class="line"><span style="color:#A6ACCD;">            imageData.data[i+3]=255;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 将修改后的数据重新渲染到画布上</span></span>
<span class="line"><span style="color:#A6ACCD;">        // putImageData(imageData,0,0,300(修改起始位置x),200(修改起始位置y),300,200)</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.putImageData(imageData,0,0,300,200,600,400)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="`+r+`" alt=""></p><h2 id="_5-7-元素封装" tabindex="-1">5.7-元素封装 <a class="header-anchor" href="#_5-7-元素封装" aria-label="Permalink to &quot;5.7-元素封装&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    /** @type {HTMLCanvasElement} */</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 找到画布</span></span>
<span class="line"><span style="color:#A6ACCD;">    var c1=document.getElementById(&#39;c1&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 判断是否右getContext</span></span>
<span class="line"><span style="color:#A6ACCD;">    if(!c1.getContext){</span></span>
<span class="line"><span style="color:#A6ACCD;">        console.log(&#39;当前浏览器不支持canvas&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 获取画笔，上下文对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    var ctx =c1.getContext(&#39;2d&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(ctx);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    class Heart{</span></span>
<span class="line"><span style="color:#A6ACCD;">        constructor(x,y){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.x=x;</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.y=y;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">            // 颜色默认红色</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.color=&quot;red&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 鼠标默认不在路径上</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.isIn = false;</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 事件列表</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.eventMapList = {</span></span>
<span class="line"><span style="color:#A6ACCD;">                hover:[],</span></span>
<span class="line"><span style="color:#A6ACCD;">                leave:[],</span></span>
<span class="line"><span style="color:#A6ACCD;">            };</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">            // 鼠标移动函数</span></span>
<span class="line"><span style="color:#A6ACCD;">            c1.onmousemove = (e) =&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">                let x= e.offsetX;</span></span>
<span class="line"><span style="color:#A6ACCD;">                let y= e.offsetY;</span></span>
<span class="line"><span style="color:#A6ACCD;">                // 判断坐标x,y是否在路径上</span></span>
<span class="line"><span style="color:#A6ACCD;">                this.isIn =  ctx.isPointInPath(this.heartPath,x,y)</span></span>
<span class="line"><span style="color:#A6ACCD;">                if(this.isIn){</span></span>
<span class="line"><span style="color:#A6ACCD;">                    this.eventMapList.hover.forEach((item)=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">                        item();</span></span>
<span class="line"><span style="color:#A6ACCD;">                    })</span></span>
<span class="line"><span style="color:#A6ACCD;">                }else{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    this.eventMapList.leave.forEach((item)=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">                        item();</span></span>
<span class="line"><span style="color:#A6ACCD;">                    })</span></span>
<span class="line"><span style="color:#A6ACCD;">                }</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // 封装鼠标移入</span></span>
<span class="line"><span style="color:#A6ACCD;">        onHover(fn){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.eventMapList.hover.push(fn);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 封装鼠标移出</span></span>
<span class="line"><span style="color:#A6ACCD;">        onLeave(fn){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.eventMapList.leave.push(fn);</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        // setPosition(x,y){</span></span>
<span class="line"><span style="color:#A6ACCD;">        //     this.x=x;</span></span>
<span class="line"><span style="color:#A6ACCD;">        //     this.y=y;</span></span>
<span class="line"><span style="color:#A6ACCD;">        // }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        draw(){</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath = new Path2D();</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 确定起点</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath.moveTo(this.x,this.y);</span></span>
<span class="line"><span style="color:#A6ACCD;">            // bezierCurveTo(控制点x1,控制点y1,控制点x2,控制点y2,结束点x,结束点y)</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath.bezierCurveTo(this.x+50, this.y-50, this.x+100, this.y, this.x, this.y+50);</span></span>
<span class="line"><span style="color:#A6ACCD;">            this.heartPath.bezierCurveTo(this.x-100, this.y, this.x-50, this.y-50, this.x, this.y);</span></span>
<span class="line"><span style="color:#A6ACCD;">            // 存储状态</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.save();</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.fillStyle=this.color;</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.fill(this.heartPath);</span></span>
<span class="line"><span style="color:#A6ACCD;">            ctx.restore();</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    let heart = new Heart(100,100);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    heart.onHover(()=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        heart.color=&quot;blue&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">    heart.onLeave(()=&gt;{</span></span>
<span class="line"><span style="color:#A6ACCD;">        heart.color=&quot;red&quot;;</span></span>
<span class="line"><span style="color:#A6ACCD;">    })</span></span>
<span class="line"><span style="color:#A6ACCD;">    // 渲染</span></span>
<span class="line"><span style="color:#A6ACCD;">    function render(){</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 清空画布</span></span>
<span class="line"><span style="color:#A6ACCD;">        ctx.clearRect(0,0,c1.width,c1.height);</span></span>
<span class="line"><span style="color:#A6ACCD;">        heart.draw();</span></span>
<span class="line"><span style="color:#A6ACCD;">        // 请求动画帧</span></span>
<span class="line"><span style="color:#A6ACCD;">        requestAnimationFrame(render);</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    render();</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/script&gt;</span></span></code></pre></div><p><img src="`+A+'" alt=""></p>',132),g=[D];function d(h,x,u,v,m,b){return n(),a("div",null,g)}const P=s(y,[["render",d]]);export{f as __pageData,P as default};
